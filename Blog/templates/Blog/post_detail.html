{% extends "Blog/base.html" %}
{% load static %}
{% load embed_video_tags %}
{% block content %}
    <body>
    <style media="screen">
        .circular--square {
            border-radius: 50% !important;
        }

        .circular--landscape {
            margin: 4vh;
            display: inline-block;
            position: relative;
            max-width: 10vh;
            max-height: 10vh;
            /* width: 200px; */
            height: 10vh;
            overflow: hidden;
            border-radius: 50%;
        }

        .circular--landscape img {

            width: auto;
            height: 100%;
            /* margin-left: -50px; */
        }

        #mainContentCard {
        }

        @media screen and (min-width: 600px) {
            #comment-section {
                /* max-height: fit-content; */
                max-height: 50vh;
                overflow-y: scroll;
            }
        }

        #intro {
            max-height: 30vh;
            width: auto;
            /* margin: auto; */
        }

        .video-content-tab {
            height: 60vh;
        }
    </style>
    <div class="">

        {#    <div class="col s10">#}
        {#         #}
        {#    </div>#}
        <div class="row">
            <div class="video-content-tab col s10" style="background-color:chartreuse;">
                {% video post.demovid 'small' %}
            </div>
            <div class="video-content-tab col s2">

            </div>
            <div class="col s10">
                <div class="col s8 offset-s1">
                    <ul class="tabs">
                        <li class="tab col s3"><a class="active" href="#test1">Detail</a></li>
                        <li class="tab col s3"><a  href="#test2">Test 2</a></li>
                        <li class="tab col s3 "><a href="#test3">About Instructor</a></li>
                        <li class="tab col s3"><a href="#test4">Enroll</a></li>
                    </ul>
                </div>
            </div>
            <div class="col s2"></div>
            <button class="btn">hdhja</button>
            <button class="btn">dhja</button>
            {#            </div>#}
            {#        </div>#}
            {#        <div class="col s1"></div>#}
            <div class="col s12">
                <div class="row">
                    <div class="col s6 offset-s1 ">
                        <style>
                            .mainTabs {
                                min-height: 50vh;
                            }
                        </style>
                        <div class="row">
                            <div id="test1" class="mainTabs col s12">
                                {{ post.content }}
                            </div>
                            <div id="test2" class=" mainTabs col s12">
                                {{ post.location }}
                            </div>
                            <div id="test3" class="mainTabs col s12">Test 3</div>
                            <div id="test4" class="mainTabs col s12">
                                <div id="enroll">
                                    {% include 'Blog/enroll.html' %}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class=" col s4">
                        <div class="container">
                            <div class="row">
                                <button class="btn btn-success">dsdckshdc</button>
                                <button class="btn btn-success">sdcsdcs</button>
                                <button class="btn btn-success">sdcsd</button>
                                <button class="btn btn-success">dsdckshdc</button>
                                <button class="btn btn-success">sdcsdcs</button>
                            </div>
                            <div class="">
                                <div class="row">
                                    <div class="col s10">
                                        <div class="card">
                                            <div class="card-image">
                                                <img src="{% static 'csgo.jpg' %}">
                                                <span class="card-title">Card Title</span>
                                            </div>
                                            <div class="card-content">
                                                <p>I am a very simple card. I am good at containing small bits of
                                                    information.
                                                    I am convenient because I require little markup to use
                                                    effectively.</p>
                                            </div>
                                            <div class="card-action">
                                                <a href="#">This is a link</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

            <div class="col s4">
            </div>
            {#         <div class="col s1"></div>#}
            <div class="col s10">


            </div>


        </div>


        <div class=" row">
            <div class="col s2">
                <div class="card">
                    <div class="card-image">
                        <img src="{% static 'csgo.jpg' %}">
                        <span class="card-title">Card Title</span>
                    </div>
                </div>
            </div>
            <div class="col s2">
                <div class="card">
                    <div class="card-image">
                        <img src="{% static 'csgo.jpg' %}">
                        <span class="card-title">Card Title</span>
                    </div>
                </div>
            </div>
            <div class="col s2">
                <div class="card">
                    <div class="card-image">
                        <img src="{% static 'csgo.jpg' %}">
                        <span class="card-title">Card Title</span>
                    </div>
                </div>
            </div>
            <div class="col s2">
                <div class="card">
                    <div class="card-image">
                        <img src="{% static 'csgo.jpg' %}">
                        <span class="card-title">Card Title</span>
                    </div>
                </div>
            </div>
            <div class="col s2">
                <div class="card">
                    <div class="card-image">
                        <img src="{% static 'csgo.jpg' %}">
                        <span class="card-title">Card Title</span>
                    </div>
                </div>
            </div>
            <div class="col s2">
                <div class="card">
                    <div class="card-image">
                        <img src="{% static 'csgo.jpg' %}">
                        <span class="card-title">Card Title</span>
                    </div>
                </div>
            </div>
        </div>


    </div>


    </div>


    <div class="content-section"><p class="text-muted"> Comments ({{ comments.count }}) </p>
        {% for comment in comments %}
            <article class="media content-section">
                <img class="rounded-circle article-img" src="{{ comment.author.profile.image.url }}">
                <div class="media-body">
                    <div class="article-metadata">
                        <a class="mr-2" href="{% url 'profile' comment.author %}">{{ comment.author }}</a>
                        <small class="text-muted">{{ comment.date_posted }}</small>
                    </div>
                    <p class="article-content">{{ comment.content }}</p>
                </div>
            </article>
        {% endfor %}
        <p><a href="{% url 'post-comment' object.id %}"> Continue the Conversation </a></p>
    </div>
    {% include 'snippets/mainFooter.html' %}
    </body>

{% endblock content %}
{% block script %}
    <script type="text/javascript">
        $(document).ready(function (event) {
            $('.tabs').tabs();
            $(document).on('click', '#like', function (event) {
                event.preventDefault();

                var pk = $(this).attr('value');

                $.ajax({
                    type: 'POST',
                    url: '{% url "like-post" %}',
                    data: {'id': pk, 'csrfmiddlewaretoken': '{{csrf_token}}'},
                    success: function (response) {
                        $('#like-section').html(response['form'])
                        console.log('Success');
                    },
                    error: function (rs, e) {
                        console.log(rs.responseText);
                    }
                });

            });
        });
    </script>
 <script type="text/javascript">
    	$(document).ready(function(event) {
    		$(document).on('click', '#enroll', function(event) {
    			event.preventDefault();

    			var user = $(this).attr('value');
    			console.log(user)

    			$.ajax ({
    				type		:		'POST'	,
    				url			: 	'{% url "enroll" %}'	,
    				data 		: 	{'id': user, 'csrfmiddlewaretoken': '{{csrf_token}}'}	,
    				success	: function(response) {
    					$('#enroll').html(response['form'])
    					console.log('Success');
    				}	,
    				error: function(rs,e) {
    					console.log(rs.responseText);
    				}
    			});

    		});
    	});
    </script>
{% endblock %}
